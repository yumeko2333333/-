<!-- The following fields will help you at work -->
${config['公共']['logo']}

<a href="/image/样品2.png" download="/image/样品2.png">Download</a>
<a href="/image/样品2.png" target="_blank">View</a>
<script>
  // 文件下载
  return`
    ${attachment_url.length > 0 ? `
      <div class="intro">文件下载:
      ${attachment_url.map(item =>{
          return `
          <a href="${item}"><i class="fa fa-file-pdf-o"></i>${article.title}</a>
          `
      }).join("\n")}
      </div>    
    `:''}
  `
</script>
<script>
let list = siteData.product_categorys.filter(item => !item.parent_id).slice(0,8);
// 选中父分类.filter(item => !item.parent_id)
// Select Parent Category
// 限制数量.slice(0,8)
//Limit quantity

//${JSON.stringify(list)}
// 遍历名称
// Traversal name

// 单独的
list = list.slice(0, params.size || 4);
</script>

<script>
  // 默认缩略图
  let img_url = item.thumb_img_urls ? item.thumb_img_urls.split(',')[0] : (config['公共']['产品默认缩略图'] || config['公共']['logo'] || 'data:image/gif;base64,R0lGODdhAQABAPAAAMPDwwAAACwAAAAAAQABAAACAkQBADs=');
</script>

<script>
module.exports = function (siteData, data, util) {
    const config = util.config || {};
    const params = data ? JSON.parse(data.replace(/'/g, '"')) : {};

    // 产品列表 id筛选
    let list = siteData.products;
    let category = {name: '', id: ''};
    if (siteData.current_product_category_id || params.id) {
        // 通过参数指定的分类名， 查找到指定的产品分类
        category = siteData.product_categorys.find(item => item.id === (siteData.current_product_category_id || params.id)) || {};

        // 筛选出符合条件的产品
        const all_categorys = siteData.product_categorys.filter(item => (item.tree || '').startsWith(category.tree));
        list = siteData.products.filter(item => all_categorys.some(_ => _.id === item.product_category_id));
    }
}
</script>
<script>
  // 放在渲染文章/产品列表前
  const category = siteData.article_categorys.find(item => item.name === menu.name);// 导航菜单下拉对应相同名称的数据
    if(category){
    children = siteData.article_categorys.filter(item => item.parent_id === category.id);
    }
  // 判断是否有这个栏目名的文章/产品分类，有则渲染子分类
  // 否则渲染所有文章顶级分类
    else if (menu.view_type === '文章列表') {
        children = siteData.article_categorys.filter(item => !item.parent_id);
        type = menu.view_type;
    }
</script>

<script>
  // id筛选 类似写法（没有找到定义） 冲突强迫难受 所以写成中文
  const params = JSON.parse(data.replace(/'/g, '"'));
  
  // 通过参数指定的分类名， 查找到指定的文章分类
  const 分类 = siteData.article_categorys.find(item => item.id === (siteData.current_article_category_id || params.id));
  
  // 查询分类下面的子分类
  const children = siteData.article_categorys.filter(item => item.parent_id === category.id).map(item=>item.id);
  
  // 合并分类和子分类
  const ids = [category.id].concat(children)
  const 列表 = siteData.articles.filter(article => ids.includes(article.article_category_id)).slice(0,4);
</script>

<script>
//自动增加语言按钮，加返回的一段即可
module.exports = function (siteData, data, util) {
  const menus = siteData.menus.filter(item => !item.parent_id && item.is_show);
  return `
  ${siteData.languages.split(',').length > 1 ? `<li class="navigation-item">
    <a class="navigation-link" href="javascript:;">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24" fill="currentColor">
          <path d="M4.42676427,15 L7.19778729,15 C7.069206,14.209578 7,13.3700549 7,12.5 C7,11.6299451 7.069206,10.790422 7.19778729,10 L4.42676427,10 C4.15038555,10.7819473 4,11.6234114 4,12.5 C4,13.3765886 4.15038555,14.2180527 4.42676427,15 Z M4.86504659,16 C5.7403587,17.6558985 7.21741102,18.9446239 9.0050441,19.5750165 C8.30729857,18.6953657 7.74701714,17.4572396 7.39797964,16 L4.86504659,16 Z M18.5732357,15 C18.8496144,14.2180527 19,13.3765886 19,12.5 C19,11.6234114 18.8496144,10.7819473 18.5732357,10 L15.8022127,10 C15.930794,10.790422 16,11.6299451 16,12.5 C16,13.3700549 15.930794,14.209578 15.8022127,15 L18.5732357,15 Z M18.1349534,16 L15.6020204,16 C15.2529829,17.4572396 14.6927014,18.6953657 13.9949559,19.5750165 C15.782589,18.9446239 17.2596413,17.6558985 18.1349534,16 Z M8.21230689,15 L14.7876931,15 C14.9240019,14.2216581 15,13.3811544 15,12.5 C15,11.6188456 14.9240019,10.7783419 14.7876931,10 L8.21230689,10 C8.07599807,10.7783419 8,11.6188456 8,12.5 C8,13.3811544 8.07599807,14.2216581 8.21230689,15 Z M8.42865778,16 C9.05255412,18.3998027 10.270949,20 11.5,20 C12.729051,20 13.9474459,18.3998027 14.5713422,16 L8.42865778,16 Z M4.86504659,9 L7.39797964,9 C7.74701714,7.54276045 8.30729857,6.30463431 9.0050441,5.42498347 C7.21741102,6.05537614 5.7403587,7.34410146 4.86504659,9 Z M18.1349534,9 C17.2596413,7.34410146 15.782589,6.05537614 13.9949559,5.42498347 C14.6927014,6.30463431 15.2529829,7.54276045 15.6020204,9 L18.1349534,9 Z M8.42865778,9 L14.5713422,9 C13.9474459,6.60019727 12.729051,5 11.5,5 C10.270949,5 9.05255412,6.60019727 8.42865778,9 Z M11.5,21 C6.80557963,21 3,17.1944204 3,12.5 C3,7.80557963 6.80557963,4 11.5,4 C16.1944204,4 20,7.80557963 20,12.5 C20,17.1944204 16.1944204,21 11.5,21 Z"></path>
        </svg>
        <span style="margin-right: 6px;">Language</span>
    </a>
    <ul class="navigation-dropdown">
        ${siteData.languages.split(',').map(item => {
          return `<li class="navigation-dropdown-item"><a class="navigation-dropdown-link" href="/${item !== 'default' ? item : 'index.html'}" style="text-transform: uppercase;">${item}</a></li>`
        }).join('\n')}
    </ul>
  </li>` : ''} 
  `
}
</script>
<!-- 切换默认语言 -->
<script type="text/javascript" src="https://xuansiwei-cdn.oss-cn-shenzhen.aliyuncs.com/common/jiaogeiwocommon.js"></script>
<script>
jumpLang('en');
</script>
<!-- 切换默认语言原始 -->
<script>
  var lang = localStorage.getItem('lang') || 'en';
  if (lang === 'en' && location.pathname === '/') {
      location.href = '/en';
  }
</script>

<hr>

<!-- javascript分类导航开始 -->
<div class="column is-3">
  <div class="title has-text-centered-mobile">${siteData.current_menu.name}</div>
  <div class="categorys">
      <div class="category" style="padding-left: 0rem"><a class="${!siteData.current_article_category_id ? 'is-active' : ''}" href="${siteData.current_menu.link}">All news</a></div>
      ${renderCategoryMenus(siteData.article_categorys.filter(item => !item.parent_id), 0)}
  </div>
</div>
<!-- javascript分类导航结束 -->

<hr>

<script>
// 网页执行。自动下载10个图片
$('.card > .svg-card > svg').each((index, elem) => {
var svgData = $(elem).prop('outerHTML');
var svgBlob = new Blob([svgData], {type:"image/svg+xml;charset=utf-8"});
var svgUrl = URL.createObjectURL(svgBlob);
var downloadLink = document.createElement("a");
downloadLink.href = svgUrl;
var name = new URLSearchParams(location.search.substring(1)).get('n') || 'logo';
downloadLink.download = name + (index + 1) + ".svg";
document.body.appendChild(downloadLink);
downloadLink.click();
document.body.removeChild(downloadLink);
})  
</script>